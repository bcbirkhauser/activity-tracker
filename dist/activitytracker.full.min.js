!function(e){"use strict";var t=function(e,i,r){return 1===arguments.length?t.get(e):t.set(e,i,r)};t._document=document,t._navigator=navigator,t.defaults={path:"/"},t.get=function(e){return t._cachedDocumentCookie!==t._document.cookie&&t._renewCache(),t._cache[e]},t.set=function(i,r,o){return o=t._getExtendedOptions(o),o.expires=t._getExpiresDate(r===e?-1:o.expires),t._document.cookie=t._generateCookieString(i,r,o),t},t.expire=function(i,r){return t.set(i,e,r)},t._getExtendedOptions=function(i){return{path:i&&i.path||t.defaults.path,domain:i&&i.domain||t.defaults.domain,expires:i&&i.expires||t.defaults.expires,secure:i&&i.secure!==e?i.secure:t.defaults.secure}},t._isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},t._getExpiresDate=function(e,i){switch(i=i||new Date,typeof e){case"number":e=new Date(i.getTime()+1e3*e);break;case"string":e=new Date(e)}if(e&&!t._isValidDate(e))throw Error("`expires` parameter cannot be converted to a valid Date instance");return e},t._generateCookieString=function(e,t,i){return e=e.replace(/[^#$&+\^`|]/g,encodeURIComponent),e=e.replace(/\(/g,"%28").replace(/\)/g,"%29"),t=(t+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent),i=i||{},e=e+"="+t+(i.path?";path="+i.path:""),e+=i.domain?";domain="+i.domain:"",e+=i.expires?";expires="+i.expires.toUTCString():"",e+=i.secure?";secure":""},t._getCookieObjectFromString=function(i){var r={};i=i?i.split("; "):[];for(var o=0;o<i.length;o++){var n=t._getKeyValuePairFromCookieString(i[o]);r[n.key]===e&&(r[n.key]=n.value)}return r},t._getKeyValuePairFromCookieString=function(e){var t=e.indexOf("="),t=0>t?e.length:t;return{key:decodeURIComponent(e.substr(0,t)),value:decodeURIComponent(e.substr(t+1))}},t._renewCache=function(){t._cache=t._getCookieObjectFromString(t._document.cookie),t._cachedDocumentCookie=t._document.cookie},t._areEnabled=function(){var e="1"===t.set("cookies.js",1).get("cookies.js");return t.expire("cookies.js"),e},t.enabled=t._areEnabled(),"function"==typeof define&&define.amd?define(function(){return t}):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=t),exports.Cookies=t):window.Cookies=t}(),function(e){"use strict";var t={_keys:[],_gaObj:null,_trackClick:function(e){var t=e.getAttribute("data-track");"true"!=t&&(t="default");var i=e.getAttribute("data-track-args");i||(i=e.getAttribute(e.getAttribute("href")?"href":"id")),this.track(t,i)},init:function(){if(!Cookies.enabled)return void console.warn("Cannot track  - Cookies are disabled");Cookies.defaults={path:"/",secure:!1},this._keys=Cookies.get("ActivityTrackerKeys"),this._keys||(this._keys=[]);for(var e=document.querySelectorAll("[data-track]"),t=this,i=0;i<e.length;i++){var r=e[i];r.addEventListener("click",function(e){t._trackClick(e.target)})}},enableGA:function(e){this._gaObj=e}};t.track=function(e,t){if(this._gaObj&&this._gaObj("send","event","activity",e,t),!Cookies.enabled)return void console.warn("Cannot track  - Cookies are disabled");-1==this._keys.indexOf(e)&&(this._keys.push(e),Cookies.set("ActivityTrackerKeys",JSON.stringify(this._keys)));var i=Cookies.get("ActivityTracker_"+e);i=i?JSON.parse(i):[];var r=new Date,o=r.toJSON();i.push({date:o,arguments:t}),Cookies.set("ActivityTracker_"+e,JSON.stringify(i))},t.getData=function(e){if(!Cookies.enabled)return void console.warn("Cannot track  - Cookies are disabled");var t={};if(e)t=JSON.parse(Cookies.get("ActivityTracker_"+e));else{this._keys=JSON.parse(Cookies.get("ActivityTrackerKeys"));for(var i=0;i<this._keys.length;i++)e=this._keys[i],t[e]=JSON.parse(Cookies.get("ActivityTracker_"+e))}return t},t.clearData=function(e){if(!Cookies.enabled)return void console.warn("Cannot track  - Cookies are disabled");if(e)Cookies.expire("ActivityTracker_"+e);else for(var t=0;t<this._keys.length;t++)e=this._keys[t],Cookies.expire("ActivityTracker_"+e),this._keys.splice(t,1)},"function"==typeof define&&define.amd?define(function(){return t}):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=t),exports.ActivityTracker=t):window.ActivityTracker=t,t.init()}();