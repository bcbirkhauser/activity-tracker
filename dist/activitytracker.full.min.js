!function(a){"use strict";var b=function(a,c,d){return 1===arguments.length?b.get(a):b.set(a,c,d)};b._document=document,b._navigator=navigator,b.defaults={path:"/"},b.get=function(a){return b._cachedDocumentCookie!==b._document.cookie&&b._renewCache(),b._cache[a]},b.set=function(c,d,e){return e=b._getExtendedOptions(e),e.expires=b._getExpiresDate(d===a?-1:e.expires),b._document.cookie=b._generateCookieString(c,d,e),b},b.expire=function(c,d){return b.set(c,a,d)},b._getExtendedOptions=function(c){return{path:c&&c.path||b.defaults.path,domain:c&&c.domain||b.defaults.domain,expires:c&&c.expires||b.defaults.expires,secure:c&&c.secure!==a?c.secure:b.defaults.secure}},b._isValidDate=function(a){return"[object Date]"===Object.prototype.toString.call(a)&&!isNaN(a.getTime())},b._getExpiresDate=function(a,c){switch(c=c||new Date,typeof a){case"number":a=new Date(c.getTime()+1e3*a);break;case"string":a=new Date(a)}if(a&&!b._isValidDate(a))throw Error("`expires` parameter cannot be converted to a valid Date instance");return a},b._generateCookieString=function(a,b,c){return a=a.replace(/[^#$&+\^`|]/g,encodeURIComponent),a=a.replace(/\(/g,"%28").replace(/\)/g,"%29"),b=(b+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent),c=c||{},a=a+"="+b+(c.path?";path="+c.path:""),a+=c.domain?";domain="+c.domain:"",a+=c.expires?";expires="+c.expires.toUTCString():"",a+=c.secure?";secure":""},b._getCookieObjectFromString=function(c){var d={};c=c?c.split("; "):[];for(var e=0;e<c.length;e++){var f=b._getKeyValuePairFromCookieString(c[e]);d[f.key]===a&&(d[f.key]=f.value)}return d},b._getKeyValuePairFromCookieString=function(a){var b=a.indexOf("="),b=0>b?a.length:b;return{key:decodeURIComponent(a.substr(0,b)),value:decodeURIComponent(a.substr(b+1))}},b._renewCache=function(){b._cache=b._getCookieObjectFromString(b._document.cookie),b._cachedDocumentCookie=b._document.cookie},b._areEnabled=function(){var a="1"===b.set("cookies.js",1).get("cookies.js");return b.expire("cookies.js"),a},b.enabled=b._areEnabled(),"function"==typeof define&&define.amd?define(function(){return b}):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=b),exports.Cookies=b):window.Cookies=b}(),function(){var b={_keys:[],_trackClick:function(a){var b=a.getAttribute("data-track");"true"!=b&&(b="default");var c=a.getAttribute("data-track-args");c||(c=a.getAttribute("href")?a.getAttribute("href"):a.getAttribute("id")),this.track(b,c)},init:function(){if(!Cookies.enabled)return console.log("Cannot track  - Cookies are disabled"),void 0;Cookies.defaults={path:"/",secure:!1},this._keys=Cookies.get("ActivityTrackerKeys"),this._keys||(this._keys=[]);for(var a=document.querySelectorAll("[data-track]"),b=this,c=0;c<a.length;c++){var d=a[c];d.addEventListener("click",function(a){b._trackClick(a.target)})}}};b.track=function(a,b){if(!Cookies.enabled)return console.log("Cannot track  - Cookies are disabled"),void 0;-1==this._keys.indexOf(a)&&(this._keys.push(a),Cookies.set("ActivityTrackerKeys",JSON.stringify(this._keys)));var c=Cookies.get("ActivityTracker_"+a);c=c?JSON.parse(c):[];var d=new Date,e=d.toJSON();c.push({date:e,arguments:b}),Cookies.set("ActivityTracker_"+a,JSON.stringify(c))},b.getData=function(a){if(!Cookies.enabled)return console.log("Cannot track  - Cookies are disabled"),void 0;var b={};if(a)b=JSON.parse(Cookies.get("ActivityTracker_"+a));else{this._keys=JSON.parse(Cookies.get("ActivityTrackerKeys"));for(var c=0;c<this._keys.length;c++)a=this._keys[c],b[a]=JSON.parse(Cookies.get("ActivityTracker_"+a))}return console.debug(b),b},b.clearData=function(a){if(!Cookies.enabled)return console.log("Cannot track  - Cookies are disabled"),void 0;if(a)Cookies.expire("ActivityTracker_"+a);else for(var b=0;b<this._keys.length;b++)a=this._keys[b],Cookies.expire("ActivityTracker_"+a),this._keys.splice(b,1)},"function"==typeof define&&define.amd?define(function(){return b}):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=b),exports.ActivityTracker=b):window.ActivityTracker=b,b.init()}();