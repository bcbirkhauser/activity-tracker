!function(e){"use strict";var t=function(e,r,i){return 1===arguments.length?t.get(e):t.set(e,r,i)};t._document=document,t._navigator=navigator,t.defaults={path:"/"},t.get=function(e){return t._cachedDocumentCookie!==t._document.cookie&&t._renewCache(),t._cache[e]},t.set=function(r,i,o){return o=t._getExtendedOptions(o),o.expires=t._getExpiresDate(i===e?-1:o.expires),t._document.cookie=t._generateCookieString(r,i,o),t},t.expire=function(r,i){return t.set(r,e,i)},t._getExtendedOptions=function(r){return{path:r&&r.path||t.defaults.path,domain:r&&r.domain||t.defaults.domain,expires:r&&r.expires||t.defaults.expires,secure:r&&r.secure!==e?r.secure:t.defaults.secure}},t._isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},t._getExpiresDate=function(e,r){switch(r=r||new Date,typeof e){case"number":e=new Date(r.getTime()+1e3*e);break;case"string":e=new Date(e)}if(e&&!t._isValidDate(e))throw Error("`expires` parameter cannot be converted to a valid Date instance");return e},t._generateCookieString=function(e,t,r){return e=e.replace(/[^#$&+\^`|]/g,encodeURIComponent),e=e.replace(/\(/g,"%28").replace(/\)/g,"%29"),t=(t+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent),r=r||{},e=e+"="+t+(r.path?";path="+r.path:""),e+=r.domain?";domain="+r.domain:"",e+=r.expires?";expires="+r.expires.toUTCString():"",e+=r.secure?";secure":""},t._getCookieObjectFromString=function(r){var i={};r=r?r.split("; "):[];for(var o=0;o<r.length;o++){var n=t._getKeyValuePairFromCookieString(r[o]);i[n.key]===e&&(i[n.key]=n.value)}return i},t._getKeyValuePairFromCookieString=function(e){var t=e.indexOf("="),t=0>t?e.length:t;return{key:decodeURIComponent(e.substr(0,t)),value:decodeURIComponent(e.substr(t+1))}},t._renewCache=function(){t._cache=t._getCookieObjectFromString(t._document.cookie),t._cachedDocumentCookie=t._document.cookie},t._areEnabled=function(){var e="1"===t.set("cookies.js",1).get("cookies.js");return t.expire("cookies.js"),e},t.enabled=t._areEnabled(),"function"==typeof define&&define.amd?define(function(){return t}):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=t),exports.Cookies=t):window.Cookies=t}();var Browser={version:"",versionNumber:"",details:{},mobile:!1,desktop:!1,os:"",ie:!1,name:"",screenWidth:"",screenHeight:"",getObj:function(){return this.details.screenWidth=this.screenWidth,this.details.screenHeight=this.screenHeight,{version:this.version,versionNumber:this.versionNumber,details:this.details,mobile:this.mobile,desktop:this.desktop,os:this.os,ie:this.ie,name:this.name,screenWidth:this.screenWidth,screenHeight:this.screenHeight}}};Browser.controller=function(){this.setData=function(){var e=this.extract(window.navigator);return Browser.version=e.version,Browser.versionNumber=e.versionNumber,Browser.details=e.details,Browser.mobile=e.mobile,Browser.desktop=e.desktop,Browser.os=e.os,Browser.ie=e.ie,Browser.name=e.name,Browser.screenWidth=window.innerWidth,Browser.screenHeight=window.innerHeight,Browser.details.screenWidth=Browser.screenWidth,Browser.details.screenHeight=Browser.screenHeight,Browser.getObj()},this.extract=function(e){var t={};t.details={};for(var r in e)t.details[r]=e[r];if(!e.userAgent)return t;var i=e.userAgent.toLowerCase(),o=/(opr)[\/]([\w.]+)/.exec(i)||/(chrome)[ \/]([\w.]+)/.exec(i)||/(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(i)||/(webkit)[ \/]([\w.]+)/.exec(i)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(i)||/(msie) ([\w.]+)/.exec(i)||i.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(i)||i.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(i)||[],n=/(ipad)/.exec(i)||/(iphone)/.exec(i)||/(android)/.exec(i)||/(windows phone)/.exec(i)||/(win)/.exec(i)||/(mac)/.exec(i)||/(linux)/.exec(i)||/(cros)/i.exec(i)||[],s={browser:o[3]||o[1]||"",version:o[2]||"0",platform:n[0]||""};if(s.browser&&(t.version=s.version,t.versionNumber=parseInt(s.version,10)),s.platform&&(t.os=s.platform),t.name=s.browser,"android"==t.os||"ipad"==t.os||"iphone"==t.os||"windows phone"==t.os?t.mobile=!0:t.desktop=!0,"rv"==t.os){var a="msie";s.browser=a,t.ie=!0}return t};var e=function(){Browser.screenWidth=window.innerWidth,Browser.screenHeight=window.innerHeight};window.onresize=function(){this.resizeTO&&clearTimeout(this.resizeTO),this.resizeTO=setTimeout(function(){e()},500)}},function(e){"use strict";var t={_keys:[],_gaObj:null,_browser:null,_trackClick:function(e){var t=e.getAttribute("data-track");"true"!=t&&(t="default");var r=e.getAttribute("data-track-args");r||(r=e.getAttribute(e.getAttribute("href")?"href":"id")),this.track(t,r)},init:function(){var e=new Browser.controller;if(this._browser=e.setData(),!Cookies.enabled)return void console.warn("Cannot track  - Cookies are disabled");Cookies.defaults={path:"/",secure:!1},this._keys=Cookies.get("ActivityTrackerKeys"),this._keys||(this._keys=[]);for(var t=document.querySelectorAll("[data-track]"),r=this,i=0;i<t.length;i++){var o=t[i];o.addEventListener("click",function(e){r._trackClick(e.target)})}},enableGA:function(e){this._gaObj=e}};t.track=function(e,t){if(this._gaObj&&this._gaObj("send","event","activity",e,t),!Cookies.enabled)return void console.warn("Cannot track  - Cookies are disabled");-1==this._keys.indexOf(e)&&(this._keys.push(e),Cookies.set("ActivityTrackerKeys",JSON.stringify(this._keys)));var r=Cookies.get("ActivityTracker_"+e);r=r?JSON.parse(r):[];var i=new Date,o=i.toJSON();r.push({date:o,arguments:t}),Cookies.set("ActivityTracker_"+e,JSON.stringify(r))},t.getData=function(e){if(!Cookies.enabled)return void console.warn("Cannot track  - Cookies are disabled");var t={};if(t.browser=this._browser,e)t=JSON.parse(Cookies.get("ActivityTracker_"+e));else{this._keys=JSON.parse(Cookies.get("ActivityTrackerKeys"));for(var r=0;r<this._keys.length;r++)e=this._keys[r],t[e]=JSON.parse(Cookies.get("ActivityTracker_"+e))}return t},t.clearData=function(e){if(!Cookies.enabled)return void console.warn("Cannot track  - Cookies are disabled");if(e)Cookies.expire("ActivityTracker_"+e);else for(var t=0;t<this._keys.length;t++)e=this._keys[t],Cookies.expire("ActivityTracker_"+e),this._keys.splice(t,1)},"function"==typeof define&&define.amd?define(function(){return t}):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=t),exports.ActivityTracker=t):window.ActivityTracker=t,t.init()}();